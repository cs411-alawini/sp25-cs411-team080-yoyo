<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title><%= user.name %></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    body { background-color: #f8f9fa; }
    .sidebar { background-color: #f0ebf9; height: 100vh; padding: 20px; }
    .card-title { font-size: 1.1rem; }
    .section-title { font-weight: bold; margin-bottom: 10px; }
  </style>
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <div class="col-md-2 sidebar">
        <h5>Dashboard</h5>
        <ul class="nav flex-column">
          <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Favorites</a></li>
        </ul>
      </div>

      <!-- Main -->
      <div class="col-md-10 p-4">
        <h2>Hello, <%= user.name %></h2>
      
        <!-- 放進 row 裡，每個區塊都自己一個 col-md-4 -->
        <div class="row mt-4">
      
          <!-- Your Cars -->
          <div class="col-md-4">
            <h5 class="section-title">Your Cars</h5>
            <ul class="list-group">
              <% if (cars.length === 0) { %>
                <li class="list-group-item">You have no cars yet.</li>
              <% } else { %>
                <% cars.forEach(car => { %>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <%= car.Make %> <%= car.Model %>
                    <a href="#" class="btn btn-sm btn-outline-secondary">Edit</a>
                  </li>
                <% }) %>
              <% } %>
            </ul>
          </div>
      
          <!-- What's New -->
          <div class="col-md-4">
            <h5 class="section-title">What's New</h5>
            <ul class="list-group">
              <li class="list-group-item d-flex justify-content-between align-items-center">
                Volvo XC90
                <span class="badge bg-info text-dark">Followed</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center">
                Tesla Model 3
                <span class="badge bg-info text-dark">Followed</span>
              </li>
            </ul>
          </div>
      
          <!-- Sell Form -->
          <div class="col-md-4">
            <h5 class="section-title">Want to sell your cars?</h5>
            <form action="/car" method="POST">
              <div class="mb-2"><input class="form-control" type="text" name="CarTitle" placeholder="Car title" required></div>
              <div class="mb-2">
                <select class="form-select" name="Make" required>
                  <option disabled selected>Select Brand</option>
                  <option value="Toyota">Toyota</option>
                  <option value="BMW">BMW</option>
                  <option value="Volvo">Volvo</option>
                </select>
              </div>
              <div class="mb-2"><input class="form-control" type="text" name="Model" placeholder="Car model" required></div>
              <div class="mb-2"><input class="form-control" type="number" name="CarPrice" placeholder="Price" required></div>
              <div class="mb-2"><input class="form-control" type="number" name="ManufactureYear" placeholder="Manufacture Year" required></div>
              <div class="mb-2"><input class="form-control" type="number" name="Mileage" placeholder="Mileage" required></div>
              <div class="mb-2"><input class="form-control" type="number" name="EngineVolume" step="0.01" placeholder="Engine Volume (L)"></div>
              <div class="mb-2"><input class="form-control" type="number" name="EngineSize" step="0.01" placeholder="Engine Size (L)"></div>
              <div class="mb-2"><input class="form-control" type="text" name="TransmissionType" placeholder="Transmission Type"></div>
              <div class="mb-2"><input class="form-control" type="text" name="FuelType" placeholder="Fuel Type"></div>
              <div class="mb-2"><input class="form-control" type="number" name="TotalPreviousOwners" placeholder="Total Previous Owners"></div>
              <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" name="agree" required>
                <label class="form-check-label">I accept the terms <a href="#">T&Cs</a></label>
              </div>
              <button class="btn btn-success w-100">Submit</button>
            </form>
          </div>
      
        </div> <!-- end of row -->
        </div> <!-- end of col-md-10 -->
      </div>
    </div>
  </div>
</body>
</html>
